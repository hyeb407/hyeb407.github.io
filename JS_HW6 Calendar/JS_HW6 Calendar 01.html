<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="stylesheet" href="./grid.css">
        <style>
            .week-title{
                display: flex;
                flex-wrap: wrap;
            }

        </style>
</head>
<body>
    <div class="container">
        <div class="row mt-5">
            <h1 id="year-month">{0000}年-{00}月</h1>
        </div>
        <div class="row">           
            <div class="col-12 col-md-12 d-flex">
                <div class="calendar text-center">
                    <div class="week-title">                        
                            <div>日</div>
                            <div>一</div>
                            <div>二</div>
                            <div>三</div>
                            <div>四</div>
                            <div>五</div>
                            <div>六</div>
                    </div>                

                    <div class="week-day">
                        
                        <!--動態渲染日期-->
                    </div>

                </div>

            </div>
        </div>

        <div class="row">
            <div class="col d-flex justify-content-between">
                <button onclick="lastMonth()" type="button" class="btn btn-primary">上個月</button>
                <button onclick="nextMonth()" type="button" class="btn btn-primary">下個月</button>
            </div>
        </div>

    </div>


    <script>
        //一、宣告
        let today = new Date(); 
        console.log(today); //Mon Jul 03 2023 17:45:39 GMT+0800 (台北標準時間)

        let thisYear = today.getFullYear(); //取得今年的年份
        let thisMonth = today.getMonth();
        //log 出來是 6 ，實際現在是 7 月
        //要 " + 1" 才會是當前【文字】顯示的月份
        
        let todayDate = today.getDate(); //取得當前的日期


        //二、DOM
        let yearMonth = document.querySelector("#year-month");


        
        //三、方法
        window.onload = function () {
            getDayofCalendar()
        }

        function getDayofCalendar(){
            // 固定 7 欄 => 要決定要長出幾排
            // => 根據這個月有幾天 & 第一天在星期幾
            //如果是第一天落在 Mon/ Tue/ Wed/ Thur只要五行

            let dayofMonth = new Date(thisYear, thisMonth +1 , 0).getDate(); 
            //如果月份不 + 1，會是 6/30
            console.log(dayofMonth); //31
            
            //第一天是星期幾 => 星期幾的方法：getDay()
            let firstDay = new Date(thisYear, thisMonth , 1).getDay();
            console.log(firstDay);

            let rows = (dayofMonth + firstDay)/7
            console.log(rows) //以 2023年 7月來說，需要 5.28 行

            let day = 1;
            for(let row = 0; row < rows; row++){
                let eachRow = document.createElement("div"); 
                // 以行當作 wrap
                for(let column = 0; column < 7; column++){
                    let eachDay = document.createElement("div");

                    if(row = 0 && column < dayofMonth){
                        // eachDay.innerText =- newDay(thisYear, thisMonth-1 ,0)
                        eachDay.innerText = ""
                    }
                    else{
                        eachDay.innerText = day;
                    }
                    eachRow.append(eachDay);
                }
                document.body.append(eachRow);
            }

        };

    </script>
    
</body>
</html>